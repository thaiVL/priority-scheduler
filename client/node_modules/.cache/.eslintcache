[{"/Users/trang/demo/client/src/index.js":"1","/Users/trang/demo/client/src/reportWebVitals.js":"2","/Users/trang/demo/client/src/App.js":"3","/Users/trang/demo/client/src/constants/routes.js":"4","/Users/trang/demo/client/src/pages/Signup.js":"5","/Users/trang/demo/client/src/pages/NotFound.js":"6","/Users/trang/demo/client/src/pages/LandingPage.js":"7","/Users/trang/demo/client/src/pages/Login.js":"8","/Users/trang/demo/client/src/components/Loader.js":"9","/Users/trang/demo/client/src/components/Navbar.js":"10","/Users/trang/demo/client/src/components/LandingPage/Contact.js":"11","/Users/trang/demo/client/src/components/LandingPage/Create.js":"12","/Users/trang/demo/client/src/components/LandingPage/OurTeam.js":"13","/Users/trang/demo/client/src/components/LandingPage/Home.js":"14","/Users/trang/demo/client/src/components/LandingPage/About.js":"15","/Users/trang/demo/client/src/pages/Dashboard.js":"16","/Users/trang/demo/client/src/helpers/protected-route.js":"17","/Users/trang/demo/client/src/context/user.js":"18","/Users/trang/demo/client/src/context/logged-in-user.js":"19","/Users/trang/demo/client/src/hooks/use-user.js":"20","/Users/trang/demo/client/src/hooks/useToken.js":"21","/Users/trang/demo/client/src/service/tokenService.js":"22"},{"size":519,"mtime":1645844111760,"results":"23","hashOfConfig":"24"},{"size":362,"mtime":1645665456614,"results":"25","hashOfConfig":"24"},{"size":1660,"mtime":1645914453246,"results":"26","hashOfConfig":"24"},{"size":212,"mtime":1645844111759,"results":"27","hashOfConfig":"24"},{"size":3940,"mtime":1645852603435,"results":"28","hashOfConfig":"24"},{"size":341,"mtime":1645844111761,"results":"29","hashOfConfig":"24"},{"size":1438,"mtime":1645844111761,"results":"30","hashOfConfig":"24"},{"size":3556,"mtime":1645916146106,"results":"31","hashOfConfig":"24"},{"size":229,"mtime":1645844111758,"results":"32","hashOfConfig":"24"},{"size":534,"mtime":1645844111759,"results":"33","hashOfConfig":"24"},{"size":132,"mtime":1645844111757,"results":"34","hashOfConfig":"24"},{"size":125,"mtime":1645844111757,"results":"35","hashOfConfig":"24"},{"size":1332,"mtime":1645844111757,"results":"36","hashOfConfig":"24"},{"size":659,"mtime":1645844111757,"results":"37","hashOfConfig":"24"},{"size":350,"mtime":1645844111756,"results":"38","hashOfConfig":"24"},{"size":725,"mtime":1645901903472,"results":"39","hashOfConfig":"24"},{"size":755,"mtime":1645853577255,"results":"40","hashOfConfig":"24"},{"size":108,"mtime":1645892524652,"results":"41","hashOfConfig":"24"},{"size":124,"mtime":1645895951639,"results":"42","hashOfConfig":"24"},{"size":626,"mtime":1645899733854,"results":"43","hashOfConfig":"24"},{"size":973,"mtime":1645916536672,"results":"44","hashOfConfig":"24"},{"size":542,"mtime":1645916102735,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"18u7xdx",{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"48"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"48"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"48"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"/Users/trang/demo/client/src/index.js",[],["95","96"],"/Users/trang/demo/client/src/reportWebVitals.js",[],"/Users/trang/demo/client/src/App.js",["97","98"],"import { lazy, Suspense } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport ReactLoader from './components/Loader';\nimport * as ROUTES from './constants/routes';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\n\nimport UserContext from './context/user';\nimport useToken from './hooks/useToken';\nimport ProtectedRoute from './helpers/protected-route';\n\nconst Login = lazy(() => import('./pages/Login'));\nconst SignUp = lazy(() => import('./pages/Signup'));\nconst LandingPage = lazy(() => import('./pages/LandingPage'));\nconst Dashboard = lazy(() => import('./pages/Dashboard'));\n// const Profile = lazy(() => import('./pages/profile'));\nconst NotFound = lazy(() => import('./pages/NotFound'));\n\nexport default function App() {\n  // const {token} = useToken();\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\n  return (\n    <UserContext.Provider value={{token}}>\n      <Router>\n        <Suspense fallback={<ReactLoader />}>\n          <Switch>\n          <ProtectedRoute user={token} path={ROUTES.DASHBOARD} exact>\n              <Dashboard />\n            </ProtectedRoute>\n            <Route exact path={ROUTES.LANDINGPAGE} component={LandingPage}/>\n            <Route exact path={ROUTES.SIGN_UP} component={() => <SignUp token={token} setToken={setToken}/>} />\n            {/* <Route exact path={ROUTES.LOGIN} component={Login} /> */}\n            <Route exact path={ROUTES.LOGIN} component={() => <Login token={token} setToken={setToken}/>} />\n            <Route component={NotFound}/>\n          </Switch>\n        </Suspense>\n      </Router>\n    </UserContext.Provider>\n  );\n}","/Users/trang/demo/client/src/constants/routes.js",[],"/Users/trang/demo/client/src/pages/Signup.js",[],"/Users/trang/demo/client/src/pages/NotFound.js",[],"/Users/trang/demo/client/src/pages/LandingPage.js",[],"/Users/trang/demo/client/src/pages/Login.js",["99","100","101","102"],"import { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport useToken from '../hooks/useToken';\nimport {testToken} from '../service/tokenService';\n\n\nfunction Login({token, setToken}) {\n    const [emailAddress, setEmailAddress] = useState('');\n    const [password, setPassword] = useState('');\n    const [remember, setRemember] = useState(false);\n    const [error, setError] = useState('');\n    const history = useHistory();\n\n    useEffect(() =>{\n        if (testToken(token)){\n            console.log(\"jsndv\");\n            localStorage.setItem(\"token\", token);\n            setToken(token);\n            history.push(ROUTES.DASHBOARD);\n        };\n    },[]);\n\n    const handleLogin = async (event) => {\n        event.preventDefault();\n        var status;\n            fetch(\"/login\", {\n                method: \"POST\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({email: emailAddress, password: password})\n            })\n            .then(res => {\n                status = res.status\n                return res.json();\n            })\n            .then(data => {\n                if(status !== 200){\n                    console.log(data[0].msg);\n                    setEmailAddress('');\n                    setPassword('');\n                    setError(data[0].msg);\n                    localStorage.removeItem(\"token\");\n                }\n                else{\n                    // data will be the token upon success\n                    console.log(\"return a token in Login\");\n                    localStorage.setItem(\"token\", data);\n                    setToken(data);\n                    console.log(\"jdvjdbv\", token);\n                    history.push(ROUTES.DASHBOARD);\n                }\n            })\n    };\n\n    useEffect(() => {\n        document.title = 'Login - Priori';\n    }, []);\n\n    return (\n        <div className=\"App\">\n            <div className=\"App-header\">\n                <h1 className=\"header pink\">Priori</h1>\n                <br />\n                {error && <p className=\"red\">{error}</p>}\n                <br />\n                <form onSubmit={handleLogin} method=\"POST\">\n                    <label><b>Email</b></label>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Enter Email\"\n                        value={emailAddress}\n                        onChange={({ target }) => setEmailAddress(target.value)}\n                        required />\n\n                    <label><b>Password</b></label>\n                    <input\n                        type=\"password\"\n                        placeholder=\"Enter Password\"\n                        value={password}\n                        onChange={({ target }) => setPassword(target.value)}\n                        required />\n                    <button className=\"button\" type=\"submit\">Login</button>\n                    <div className=\"login_line\" />\n                </form>\n                <form className=\"directing\">\n                    <p type=\"submit\">\n                        <span>\n                            Don't have an account? \n                            <a className=\"underline_bold\" href={ROUTES.SIGN_UP}> Sign up</a>\n                            .\n                        </span>\n                    </p>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;","/Users/trang/demo/client/src/components/Loader.js",[],"/Users/trang/demo/client/src/components/Navbar.js",[],"/Users/trang/demo/client/src/components/LandingPage/Contact.js",[],"/Users/trang/demo/client/src/components/LandingPage/Create.js",[],"/Users/trang/demo/client/src/components/LandingPage/OurTeam.js",[],"/Users/trang/demo/client/src/components/LandingPage/Home.js",[],"/Users/trang/demo/client/src/components/LandingPage/About.js",[],"/Users/trang/demo/client/src/pages/Dashboard.js",["103","104","105"],"import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport useAuthListener from '../hooks/useToken';\nimport useUser from '../hooks/use-user';\nimport LoggedInUserContext from '../context/logged-in-user';\n\nexport default function Dashboard({ user: loggedInUser }) {\n//   const { user, setActiveUser } = useUser(loggedInUser);\n  useEffect(() => {\n    document.title = 'Dashboard';\n  }, []);\n\n  return (\n    // <LoggedInUserContext.Provider value={{ user, setActiveUser }}>\n    <div className=\"bg-gray-background\">\n      <div className=\"frontpage\">\n        <h1>Dashboard!</h1>\n      </div>\n    </div>\n    // </LoggedInUserContext.Provider>\n  );\n}\n\nDashboard.propTypes = {\n  user: PropTypes.object.isRequired\n};","/Users/trang/demo/client/src/helpers/protected-route.js",[],"/Users/trang/demo/client/src/context/user.js",[],"/Users/trang/demo/client/src/context/logged-in-user.js",[],"/Users/trang/demo/client/src/hooks/use-user.js",[],"/Users/trang/demo/client/src/hooks/useToken.js",["106"],"import { useState, useEffect, useContext } from 'react';\n\n\n\n\nexport default function useToken() {\n    const [token, setToken] = useState(localStorage.getItem(\"token\"));\n    useEffect(() => {\n        var status;\n        fetch(\"/login/test\", {\n            headers: {\n                \"authorization\": `Bearer ${token}`\n            }\n        })\n        .then(res => {\n            status = res.status\n            return res.json();\n        })\n        .then(data => {\n            // INVALID TOKEN\n            if (status !== 200){\n                console.log(data[0].msg);\n                localStorage.removeItem(\"token\"); // STORAGE HAS BEEN SET, NEED TO RETRIEVE UPON LOAD\n                setToken(null)\n            }\n            else{\n                console.log(\"Valid token\", data);\n                localStorage.setItem(\"token\", data);\n                setToken(data);\n            }\n            /////// TEST TOKEN ////////////\n        });\n    }, [token]);\n\n  return {token};\n}","/Users/trang/demo/client/src/service/tokenService.js",[],{"ruleId":"107","replacedBy":"108"},{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","severity":1,"message":"112","line":6,"column":10,"nodeType":"113","messageId":"114","endLine":6,"endColumn":19},{"ruleId":"111","severity":1,"message":"115","line":9,"column":8,"nodeType":"113","messageId":"114","endLine":9,"endColumn":16},{"ruleId":"111","severity":1,"message":"115","line":4,"column":8,"nodeType":"113","messageId":"114","endLine":4,"endColumn":16},{"ruleId":"111","severity":1,"message":"116","line":11,"column":12,"nodeType":"113","messageId":"114","endLine":11,"endColumn":20},{"ruleId":"111","severity":1,"message":"117","line":11,"column":22,"nodeType":"113","messageId":"114","endLine":11,"endColumn":33},{"ruleId":"118","severity":1,"message":"119","line":22,"column":7,"nodeType":"120","endLine":22,"endColumn":9,"suggestions":"121"},{"ruleId":"111","severity":1,"message":"122","line":3,"column":8,"nodeType":"113","messageId":"114","endLine":3,"endColumn":23},{"ruleId":"111","severity":1,"message":"123","line":4,"column":8,"nodeType":"113","messageId":"114","endLine":4,"endColumn":15},{"ruleId":"111","severity":1,"message":"124","line":5,"column":8,"nodeType":"113","messageId":"114","endLine":5,"endColumn":27},{"ruleId":"111","severity":1,"message":"125","line":1,"column":31,"nodeType":"113","messageId":"114","endLine":1,"endColumn":41},"no-native-reassign",["126"],"no-negated-in-lhs",["127"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useToken' is defined but never used.","'remember' is assigned a value but never used.","'setRemember' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history', 'setToken', and 'token'. Either include them or remove the dependency array. If 'setToken' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["128"],"'useAuthListener' is defined but never used.","'useUser' is defined but never used.","'LoggedInUserContext' is defined but never used.","'useContext' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"129","fix":"130"},"Update the dependencies array to be: [history, setToken, token]",{"range":"131","text":"132"},[736,738],"[history, setToken, token]"]