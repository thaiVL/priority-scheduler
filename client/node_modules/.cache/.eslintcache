[{"/Users/trang/demo/client/src/index.js":"1","/Users/trang/demo/client/src/reportWebVitals.js":"2","/Users/trang/demo/client/src/App.js":"3","/Users/trang/demo/client/src/constants/routes.js":"4","/Users/trang/demo/client/src/pages/Signup.js":"5","/Users/trang/demo/client/src/pages/NotFound.js":"6","/Users/trang/demo/client/src/pages/LandingPage.js":"7","/Users/trang/demo/client/src/pages/Login.js":"8","/Users/trang/demo/client/src/components/Loader.js":"9","/Users/trang/demo/client/src/components/Navbar.js":"10","/Users/trang/demo/client/src/components/LandingPage/Contact.js":"11","/Users/trang/demo/client/src/components/LandingPage/Create.js":"12","/Users/trang/demo/client/src/components/LandingPage/OurTeam.js":"13","/Users/trang/demo/client/src/components/LandingPage/Home.js":"14","/Users/trang/demo/client/src/components/LandingPage/About.js":"15","/Users/trang/demo/client/src/pages/Dashboard.js":"16","/Users/trang/demo/client/src/helpers/protected-route.js":"17","/Users/trang/demo/client/src/context/user.js":"18","/Users/trang/demo/client/src/context/logged-in-user.js":"19","/Users/trang/demo/client/src/hooks/use-user.js":"20","/Users/trang/demo/client/src/hooks/useToken.js":"21","/Users/trang/demo/client/src/service/tokenService.js":"22"},{"size":519,"mtime":1645844111760,"results":"23","hashOfConfig":"24"},{"size":362,"mtime":1645665456614,"results":"25","hashOfConfig":"24"},{"size":1862,"mtime":1645986634740,"results":"26","hashOfConfig":"24"},{"size":212,"mtime":1645844111759,"results":"27","hashOfConfig":"24"},{"size":4222,"mtime":1645988961286,"results":"28","hashOfConfig":"24"},{"size":341,"mtime":1645844111761,"results":"29","hashOfConfig":"24"},{"size":1438,"mtime":1645844111761,"results":"30","hashOfConfig":"24"},{"size":3439,"mtime":1645988883200,"results":"31","hashOfConfig":"24"},{"size":229,"mtime":1645844111758,"results":"32","hashOfConfig":"24"},{"size":534,"mtime":1645844111759,"results":"33","hashOfConfig":"24"},{"size":132,"mtime":1645844111757,"results":"34","hashOfConfig":"24"},{"size":125,"mtime":1645844111757,"results":"35","hashOfConfig":"24"},{"size":1332,"mtime":1645844111757,"results":"36","hashOfConfig":"24"},{"size":659,"mtime":1645844111757,"results":"37","hashOfConfig":"24"},{"size":350,"mtime":1645844111756,"results":"38","hashOfConfig":"24"},{"size":1180,"mtime":1645986409974,"results":"39","hashOfConfig":"24"},{"size":868,"mtime":1645985131175,"results":"40","hashOfConfig":"24"},{"size":108,"mtime":1645892524652,"results":"41","hashOfConfig":"24"},{"size":124,"mtime":1645895951639,"results":"42","hashOfConfig":"24"},{"size":626,"mtime":1645899733854,"results":"43","hashOfConfig":"24"},{"size":1010,"mtime":1645916853961,"results":"44","hashOfConfig":"24"},{"size":585,"mtime":1645988850502,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"18u7xdx",{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"54"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"54"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"54"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"/Users/trang/demo/client/src/index.js",[],["97","98"],"/Users/trang/demo/client/src/reportWebVitals.js",[],"/Users/trang/demo/client/src/App.js",["99","100"],"import { lazy, Suspense, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport ReactLoader from './components/Loader';\nimport * as ROUTES from './constants/routes';\nimport { useState } from 'react';\n\nimport UserContext from './context/user';\nimport ProtectedRoute from './helpers/protected-route';\n\nconst Login = lazy(() => import('./pages/Login'));\nconst SignUp = lazy(() => import('./pages/Signup'));\nconst LandingPage = lazy(() => import('./pages/LandingPage'));\nconst Dashboard = lazy(() => import('./pages/Dashboard'));\n// const Profile = lazy(() => import('./pages/profile'));\nconst NotFound = lazy(() => import('./pages/NotFound'));\n\nexport default function App() {\n  const token_string = localStorage.getItem(\"token\");\n  const [token, setToken] = useState(token_string.localeCompare(\"null\") !== 0 ? {token_string} : null);\n\n  function setNewToken(token){\n    if (!token || token.localeCompare(\"null\") == 0){\n      setToken(null);\n    }\n    else{\n      setToken({token_string : token})\n    }\n  }\n  return (\n    <UserContext.Provider value={token}>\n      <Router>\n        <Suspense fallback={<ReactLoader />}>\n          <Switch>\n          <ProtectedRoute user={token} path={ROUTES.DASHBOARD} exact>\n              <Dashboard user={token} setToken={setNewToken}/>\n            </ProtectedRoute>\n            <Route exact path={ROUTES.LANDINGPAGE} component={LandingPage}/>\n            <Route exact path={ROUTES.SIGN_UP} component={() => <SignUp token={token} setToken={setNewToken}/>} />\n            {/* <Route exact path={ROUTES.LOGIN} component={Login} /> */}\n            <Route exact path={ROUTES.LOGIN} component={() => <Login token={token} setToken={setNewToken}/>} />\n            <Route component={NotFound}/>\n          </Switch>\n        </Suspense>\n      </Router>\n    </UserContext.Provider>\n  );\n}",["101","102"],"/Users/trang/demo/client/src/constants/routes.js",[],"/Users/trang/demo/client/src/pages/Signup.js",["103"],"import {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport { testToken } from '../service/tokenService';\nimport * as ROUTES from '../constants/routes';\n\nfunction Signup({token, setToken}) {\n    const [detail, setDetail] = useState({email: \"\", password: \"\", passwordConfirm: \"\",\n                                          name: \"\", studentID: \"\", school: \"\"});\n    const [err, setErr] = useState(null);\n\n    const history = useHistory();\n    const handleSignup = async (event) => {\n            event.preventDefault();\n            sendRegisterData(detail);\n            };\n\n    useEffect(() => {\n        document.title = 'Signup - Priori';\n        if (token){\n            testToken(token.token_string)\n            .then(data =>{\n                if (data){\n                    history.push(ROUTES.DASHBOARD);\n                }\n            });\n        }\n    }, []);\n\n    function sendRegisterData(obj){\n        var status;\n        fetch(\"/register\", {\n          method: \"POST\",\n          headers:{\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\" \n          },\n          body: JSON.stringify(obj)\n        })\n        .then(res => {\n            status = res.status;\n            return res.json();\n        })\n        .then((data) => {\n            if(status !== 200){\n                console.log(data[0].msg);\n                setErr(data[0].msg);\n            }\n            else{\n                // redirect to successful page\n                console.log(\"Account created!\");\n                history.push(ROUTES.DASHBOARD);\n            }\n        })\n        \n    }\n\n     return (\n    <div className=\"App\">\n        <div className=\"App-header\">\n            <h1 className=\"header pink\">Priori</h1>\n            <h1>Start making you a priority</h1>\n            <br/>\n            {err && <p className=\"red\">{err}</p>} \n            <br/>\n            <form onSubmit={handleSignup} method=\"POST\"> \n                <b>Your name?</b>\n                    <input \n                        type=\"text\" \n                        placeholder=\"Enter name\" \n                        onChange={(e) => setDetail({...detail, name: e.target.value})}\n                        required/>\n            \n                <b>Your university?</b>\n                    <input \n                        type=\"text\" \n                        placeholder=\"Enter university name\" \n                        onChange={(e) => setDetail({...detail, school: e.target.value})}\n                        required/>\n                \n                <b>Your student ID?</b>\n                    <input \n                        type=\"text\" \n                        placeholder=\"Enter your student number\" \n                        onChange={(e) => setDetail({...detail, studentID: e.target.value})}\n                        required/>\n\n                <b>Your email?</b>\n                    <input \n                        type=\"text\" \n                        placeholder=\"Enter Email\"  \n                        onChange={(e) => setDetail({...detail, email: e.target.value})}\n                        required/>\n\n                <b>Enter a password</b>\n                    <input \n                        type=\"password\" \n                        placeholder=\"Enter Password\"  \n                        onChange={(e) => setDetail({...detail, password: e.target.value})}\n                        required/>\n\n                <b>Confirm your password</b>\n                    <input \n                        type=\"password\" \n                        placeholder=\"Enter Password\"  \n                        onChange={(e) => setDetail({...detail, passwordConfirm: e.target.value})}\n                        required/>\n\n                <button className=\"button\" type=\"submit\">Sign Up</button>\n                <div className=\"login_line\"/>\n            </form>\n            \n            <form className=\"directing\">\n            <p type=\"submit\">\n                <span>\n                    Have an account? \n                    <a className=\"underline_bold\" href={ROUTES.LOGIN}> Log in</a>\n                    .\n                </span>\n            </p>\n            </form>\n        </div>\n    </div>\n    );\n }\n\n export default Signup;","/Users/trang/demo/client/src/pages/NotFound.js",[],"/Users/trang/demo/client/src/pages/LandingPage.js",[],"/Users/trang/demo/client/src/pages/Login.js",["104"],"import { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport { testToken } from '../service/tokenService';\n\n\nexport default function Login({token, setToken}) {\n    const [emailAddress, setEmailAddress] = useState('');\n    const [password, setPassword] = useState('');\n    // const [remember, setRemember] = useState(false);\n    const [error, setError] = useState('');\n    const history = useHistory();\n\n    useEffect(() =>{\n        document.title = 'Login - Priori';\n        if (token){\n            testToken(token.token_string)\n            .then(data =>{\n                if (data){\n                    history.push(ROUTES.DASHBOARD);\n                }\n            });\n        }\n    },[]);\n\n    const handleLogin = async (event ) => {\n        event.preventDefault();\n        var status;\n            fetch(\"/login\", {\n                method: \"POST\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({email: emailAddress, password: password})\n            })\n            .then(res => {\n                status = res.status\n                return res.json();\n            })\n            .then(data => {\n                if(status !== 200){\n                    console.log(data[0].msg);\n                    setEmailAddress('');\n                    setPassword('');\n                    setError(data[0].msg);\n                    localStorage.removeItem(\"token\");\n                }\n                else{\n                    // data will be the token upon success\n                    console.log(\"return a token in Login\");\n                    localStorage.setItem(\"token\", data);\n                    setToken(data);\n                    history.push(ROUTES.DASHBOARD);\n                }\n            })\n    };\n\n    return (\n        <div className=\"App\">\n            <div className=\"App-header\">\n                <h1 className=\"header pink\">Priori</h1>\n                <br />\n                {error && <p className=\"red\">{error}</p>}\n                <br />\n                <form onSubmit={handleLogin} method=\"POST\">\n                    <label><b>Email</b></label>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Enter Email\"\n                        value={emailAddress}\n                        onChange={({ target }) => setEmailAddress(target.value)}\n                        required />\n\n                    <label><b>Password</b></label>\n                    <input\n                        type=\"password\"\n                        placeholder=\"Enter Password\"\n                        value={password}\n                        onChange={({ target }) => setPassword(target.value)}\n                        required />\n                    <button className=\"button\" type=\"submit\">Login</button>\n                    <div className=\"login_line\" />\n                </form>\n                <form className=\"directing\">\n                    <p type=\"submit\">\n                        <span>\n                            Don't have an account? \n                            <a className=\"underline_bold\" href={ROUTES.SIGN_UP}> Sign up</a>\n                            .\n                        </span>\n                    </p>\n                </form>\n            </div>\n        </div>\n    );\n}","/Users/trang/demo/client/src/components/Loader.js",[],"/Users/trang/demo/client/src/components/Navbar.js",[],"/Users/trang/demo/client/src/components/LandingPage/Contact.js",[],"/Users/trang/demo/client/src/components/LandingPage/Create.js",[],"/Users/trang/demo/client/src/components/LandingPage/OurTeam.js",[],"/Users/trang/demo/client/src/components/LandingPage/Home.js",[],"/Users/trang/demo/client/src/components/LandingPage/About.js",[],"/Users/trang/demo/client/src/pages/Dashboard.js",["105"],"import { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport UserContext from '../context/user';\nimport * as ROUTES from '../constants/routes';\n\nexport default function Dashboard({ user, setToken }) {\n    //   const { user, setActiveUser } = useUser(loggedInUser);\n    const history = useHistory();\n    useEffect(() => {\n        document.title = 'Dashboard';\n        console.log(\"Current token in Dashboar\", user);\n    }, []);\n\n    const logout = async(event) => {\n        localStorage.setItem(\"token\", null);\n        setToken(null);\n        console.log(\"delete token\");\n        console.log(localStorage.getItem(\"token\"));\n        history.push(ROUTES.LANDINGPAGE);\n    }\n\n    return (\n        <UserContext.Provider value={user}>\n            <div className=\"bg-gray-background\">\n                <div className=\"frontpage\">\n                    <h1>Dashboard!</h1>\n                </div>\n                <div>\n                    <button onClick={logout}>LOGOUT</button>\n                </div>\n            </div>\n        </UserContext.Provider>\n    );\n}\n\nDashboard.propTypes = {\n    user: PropTypes.object.isRequired\n};","/Users/trang/demo/client/src/helpers/protected-route.js",["106"],"import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Redirect } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\n\nexport default function ProtectedRoute({ user, children, ...rest }) {\n\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        if (user) {\n          console.log(\"in protected there is a user: \" + user);\n          return React.cloneElement(children, { user });\n        }\n\n        else {\n          console.log(\"in protected route: \" + user);\n          return (\n            <Redirect\n              to={{\n                pathname: ROUTES.LOGIN,\n                state: { from: location }\n              }}\n            />\n          );\n        }\n\n        return null;\n      }}\n    />\n  );\n}\n\nProtectedRoute.propTypes = {\n  user: PropTypes.object,\n  children: PropTypes.object.isRequired\n};","/Users/trang/demo/client/src/context/user.js",[],"/Users/trang/demo/client/src/context/logged-in-user.js",[],"/Users/trang/demo/client/src/hooks/use-user.js",[],"/Users/trang/demo/client/src/hooks/useToken.js",["107"],"/Users/trang/demo/client/src/service/tokenService.js",[],{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","severity":1,"message":"113","line":1,"column":26,"nodeType":"114","messageId":"115","endLine":1,"endColumn":35},{"ruleId":"116","severity":1,"message":"117","line":22,"column":47,"nodeType":"118","messageId":"119","endLine":22,"endColumn":49},{"ruleId":"108","replacedBy":"120"},{"ruleId":"110","replacedBy":"121"},{"ruleId":"122","severity":1,"message":"123","line":27,"column":8,"nodeType":"124","endLine":27,"endColumn":10,"suggestions":"125"},{"ruleId":"122","severity":1,"message":"123","line":24,"column":7,"nodeType":"124","endLine":24,"endColumn":9,"suggestions":"126"},{"ruleId":"122","severity":1,"message":"127","line":13,"column":8,"nodeType":"124","endLine":13,"endColumn":10,"suggestions":"128"},{"ruleId":"129","severity":1,"message":"130","line":29,"column":9,"nodeType":"131","messageId":"132","endLine":29,"endColumn":21},{"ruleId":"112","severity":1,"message":"133","line":1,"column":31,"nodeType":"114","messageId":"115","endLine":1,"endColumn":41},"no-native-reassign",["134"],"no-negated-in-lhs",["135"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["134"],["135"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'token'. Either include them or remove the dependency array.","ArrayExpression",["136"],["137"],"React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.",["138"],"no-unreachable","Unreachable code.","ReturnStatement","unreachableCode","'useContext' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"139","fix":"140"},{"desc":"139","fix":"141"},{"desc":"142","fix":"143"},"Update the dependencies array to be: [history, token]",{"range":"144","text":"145"},{"range":"146","text":"145"},"Update the dependencies array to be: [user]",{"range":"147","text":"148"},[891,893],"[history, token]",[770,772],[486,488],"[user]"]