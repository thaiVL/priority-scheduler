{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\Thai\\\\Code\\\\CMPT370Project\\\\client\\\\src\\\\components\\\\RegistrationForm.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RegistrationForm() {\n  _s();\n\n  const [detail, setDetail] = useState({\n    email: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n    name: \"\",\n    studentID: \"\",\n    school: \"\"\n  });\n  const [err, setErr] = useState(null);\n\n  function sendRegisterData(obj) {\n    var status;\n    fetch(\"/register\", {\n      method: \"POST\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(obj)\n    }).then(res => {\n      status = res.status;\n      return res.json();\n    }).then(data => {\n      if (status !== 200) {\n        console.log(\"err occured\");\n        setErr(data);\n      } else {\n        // redirect to successful page\n        console.log(\"Account created!\");\n        window.location.replace(\"/\");\n      }\n    });\n  }\n\n  function clearErr() {\n    setErr(null);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    sendRegisterData(detail);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container register\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), err && err.map(errMsg => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: errMsg.msg\n    }, errMsg.msg, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 39\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"First Last: John Doe\",\n            onChange: e => setDetail({ ...detail,\n              name: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"school\",\n            children: \"School\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"school\",\n            onChange: e => setDetail({ ...detail,\n              school: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"stid\",\n            children: \"Student ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"stid\",\n            onChange: e => setDetail({ ...detail,\n              studentID: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"johndoe@email.com\",\n            onChange: e => setDetail({ ...detail,\n              email: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"pass\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"pass\",\n            onChange: e => setDetail({ ...detail,\n              password: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"passCon\",\n            children: \"Confirm password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"passCon\",\n            onChange: e => setDetail({ ...detail,\n              passwordConfirm: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-danger\",\n        onClick: clearErr,\n        children: \"clearErrors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RegistrationForm, \"FWqjTfbyYP7F5EoRmY7kKuHMcAg=\");\n\n_c = RegistrationForm;\nexport default RegistrationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"sources":["D:/Users/Thai/Code/CMPT370Project/client/src/components/RegistrationForm.js"],"names":["useEffect","useState","RegistrationForm","detail","setDetail","email","password","passwordConfirm","name","studentID","school","err","setErr","sendRegisterData","obj","status","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","window","location","replace","clearErr","handleSubmit","e","preventDefault","map","errMsg","msg","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState} from \"react\";\r\n\r\nfunction RegistrationForm(){\r\n\r\n\r\n    const [detail, setDetail] = useState({email: \"\", password: \"\", passwordConfirm: \"\",\r\n                                          name: \"\", studentID: \"\", school: \"\"});\r\n    const [err, setErr] = useState(null)\r\n\r\n    function sendRegisterData(obj){\r\n        var status;\r\n        fetch(\"/register\", {\r\n          method: \"POST\",\r\n          headers:{\r\n            \"Accept\": \"application/json\",\r\n            \"Content-Type\": \"application/json\" \r\n          },\r\n          body: JSON.stringify(obj)\r\n        })\r\n        .then(res => {\r\n            status = res.status;\r\n            return res.json();\r\n        })\r\n        .then((data) => {\r\n            if(status !== 200){\r\n                console.log(\"err occured\");\r\n                setErr(data);\r\n            }\r\n            else{\r\n                // redirect to successful page\r\n                console.log(\"Account created!\");\r\n                window.location.replace(\"/\")\r\n            }\r\n        })\r\n        \r\n    }\r\n\r\n    function clearErr(){\r\n        setErr(null)\r\n    }\r\n\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        sendRegisterData(detail);\r\n\r\n    }\r\n\r\n\r\n\r\n    return(\r\n        <div className=\"container register\">\r\n            <h1>Register</h1>\r\n\r\n            {err && err.map(errMsg => <div key={errMsg.msg}>{errMsg.msg}</div>)} \r\n            \r\n            <form onSubmit={handleSubmit}>\r\n                <div className = \"form-inner\">\r\n                    {/* Name */}\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input type=\"text\" name=\"name\" placeholder=\"First Last: John Doe\"\r\n                        onChange={(e) => setDetail({...detail, name: e.target.value})}></input>\r\n                    </div>\r\n                    {/* School */}\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"school\">School</label>\r\n                        <input type=\"text\" name=\"school\"\r\n                        onChange={(e) => setDetail({...detail, school: e.target.value})}></input>\r\n                    </div>\r\n                    {/* Student ID */}\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"stid\">Student ID</label>\r\n                        <input type=\"text\" name=\"stid\"\r\n                        onChange={(e) => setDetail({...detail, studentID: e.target.value})}></input>\r\n                    </div>\r\n                    {/* Email */}\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input type=\"email\" name=\"email\" placeholder=\"johndoe@email.com\"\r\n                        onChange={(e) => setDetail({...detail, email: e.target.value})}></input>\r\n                    </div>\r\n                    {/* Password */}\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"pass\">Password</label>\r\n                        <input type=\"password\" name=\"pass\"\r\n                        onChange={(e) => setDetail({...detail, password: e.target.value})}></input>\r\n                    </div>\r\n                    {/* Password confirmation */}\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"passCon\">Confirm password</label>\r\n                        <input type=\"password\" name=\"passCon\"\r\n                        onChange={(e) => setDetail({...detail, passwordConfirm: e.target.value})}></input>\r\n                    </div>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\">Register</button>\r\n                <button type=\"button\" className=\"btn btn-danger\" onClick={clearErr}>clearErrors</button>\r\n            </form>\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default RegistrationForm;"]},"metadata":{},"sourceType":"module"}